<!DOCTYPE html>
<html> 
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Face2Voice</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css')}}"/>
    </head>

    <body>
        <div class="menu">
            <nav>
                <ul>
                    <li><a href="{{ url_for('home')}}"> HOME</a></li>
                    <li><a href="{{ url_for('face2voice')}}"> TRY FACE2VOICE</a></li>
                    <li><a href="{{ url_for('references')}}"> REFERENCES</a></li>
                    <li><a href="https://github.com/jh5-6/Face2Voice"> GITHUB</a></li>
                </ul>
            </nav>
        </div>

        <div class="header">
            <h1>Check your voice!</h1>
        </div>
        
        <div class="container">
            <div id="sub_container">     
                <div id="result_container">
                    <!-- 입력 사진에서 얼굴만 자른 사진 출력 -->
                    {% if cropimagefile %}
                    <div id="image_container">
                        <img src="{{ url_for('static', filename=cropimagefile)}}" alt="Cropped Face Image">
                        <div id="result_textbox">
                            {% with messages = get_flashed_messages() %}
                            {% if messages %} 
                            {% for message in messages %}
                                {{ message }}
                            {% endfor %}
                            {% endif %}
                        {% endwith %}
                        </div>
                    </div>
                    {% endif %} 

                    <!-- 합성된 음성 출력 -->
                    {% if audiofile %} 
                    <div style="padding:20px;">
                        <audio controls="controls">
                            <source src="{{ url_for('static', filename=audiofile) }}" type="audio/wav" />
                            Your browser does not support the audio element.
                            </audio>
                    </div>
                    {% endif %} 
                </div>
                <div id="btn_input">
                    <div id="btn">
                        <button id="btn_again" type="button" onclick=window.location.href="{{ url_for('face2voice')}}">DO IT AGAIN</button>
                    </div>  
                </div>   
            </div>
        </div>
    </body>
</html>